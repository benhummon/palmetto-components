import { useState } from 'react';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import { MediaModal } from './MediaModal';
import { Box } from '../Box/Box';
import { Icon } from '../Icon/Icon';
import { Button } from '../Button/Button';
import { Vimeo } from 'mdx-embed';

<Meta title="Components/MediaModal/Overview" component={MediaModal} />

# MediaModal

The MediaModal is a "light box" style container for presenting images or videos.

The default behavior of a Modal is to focus on the first focusable item.
Therefore, you should ensure that the first focusable item is non-destructive, such as a "cancel" or close button.

<Canvas>
  <Story name="Landscape Image">
    {() => {
      const [showModal, setShowModal] = useState(false);
      const open = () => setShowModal(true);
      const close = () => setShowModal(false);
      return (
        <div>
          <Button variant="light" onClick={open}>
            Show Landscape Image Modal
          </Button>
          <MediaModal isOpen={showModal} onDismiss={close}>
            <img src="images/wes-hicks-6rNitHsIU3c-unsplash.jpg" alt="" />
          </MediaModal>
        </div>
      );
    }}
  </Story>
</Canvas>

## Title and Description Header

An optional title and description can be used to describe the contents of the modal.

<Canvas>
  <Story name="Portrait Image with Header">
    {() => {
      const [showModal, setShowModal] = useState(false);
      const open = () => setShowModal(true);
      const close = () => setShowModal(false);
      return (
        <div>
          <Button variant="light" onClick={open}>
            Show Portrait Image Modal
          </Button>
          <MediaModal
            title="clement-duguerre-HP0En6B1Db8-unsplash.jpg"
            description="Site Survey - Roof"
            isOpen={showModal}
            onDismiss={close}
          >
            <img
              src="images/clement-duguerre-HP0En6B1Db8-unsplash.jpg"
              alt=""
              style={{
                objectFit: 'contain',
                height: 'calc(100vh - var(--size-height-2xl))',
                width: 'auto',
              }}
            />
          </MediaModal>
        </div>
      );
    }}
  </Story>
</Canvas>

## Footer

A node can be passed as `footerContent` to provide available actions to take on the contents of the modal.

<Canvas>
  <Story name="With Footer">
    {() => {
      const [showModal, setShowModal] = useState(false);
      const open = () => setShowModal(true);
      const close = () => setShowModal(false);
      const footerItems = (
        <Box direction="row" childGap="lg" fontSize="lg">
          <Box as="a" color="white" href="/images/wes-hicks-6rNitHsIU3c-unsplash.jpg" download>
            <Icon name="download" />
          </Box>
          <Box
            as="a"
            color="white"
            href="/images/wes-hicks-6rNitHsIU3c-unsplash.jpg"
            target="_blank"
          >
            <Icon name="launch-app" />
          </Box>
        </Box>
      );
      return (
        <div>
          <Button variant="light" onClick={open}>
            Show Image Modal with Footer
          </Button>
          <MediaModal isOpen={showModal} onDismiss={close} footerContent={footerItems}>
            <img src="images/wes-hicks-6rNitHsIU3c-unsplash.jpg" alt="" />
          </MediaModal>
        </div>
      );
    }}
  </Story>
</Canvas>

## Video

<Canvas>
  <Story name="Vimeo Video">
    {() => {
      const [showModal, setShowModal] = useState(false);
      const open = () => setShowModal(true);
      const close = () => setShowModal(false);
      return (
        <div>
          <Button variant="light" onClick={open}>
            Show Vimeo Modal
          </Button>
          <MediaModal isOpen={showModal} onDismiss={close}>
            <Box display="block" width="90vw" maxWidth="5xl">
              <Vimeo vimeoId="595469877" />
            </Box>
          </MediaModal>
        </div>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={MediaModal} />
